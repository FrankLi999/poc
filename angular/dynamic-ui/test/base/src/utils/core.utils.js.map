{"version":3,"sources":["base/src/utils/core.utils.ts"],"names":[],"mappings":"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","file":"core.utils.js","sourcesContent":["export class Utils {\r\n\r\n    static equals<T>(value: T, ...comparables: T[]): boolean {\r\n        return !!(comparables.find(comparable => value === comparable));\r\n    }\r\n\r\n    static isBoolean(value: any): boolean {\r\n        return typeof value === \"boolean\";\r\n    }\r\n\r\n    static isDefined(value: any): boolean {\r\n        return value !== undefined && value !== null;\r\n    }\r\n\r\n    static isFunction(value: any): boolean {\r\n        return typeof value === \"function\";\r\n    }\r\n\r\n    static isNumber(value: any): boolean {\r\n        return typeof value === \"number\";\r\n    }\r\n\r\n    static isObject(value: any): boolean {\r\n        return typeof value === \"object\";\r\n    }\r\n\r\n    static isTrueObject(value: any): boolean {\r\n        return Utils.isDefined(value) && Utils.isObject(value);\r\n    }\r\n\r\n    static isNonEmptyObject(value: object): boolean {\r\n        return Utils.isTrueObject(value) && Object.getOwnPropertyNames(value).length > 0;\r\n    }\r\n\r\n    static isString(value: any): boolean {\r\n        return typeof value === \"string\";\r\n    }\r\n\r\n    static isEmptyString(value: string | null | undefined): boolean {\r\n        return !Utils.isString(value) || value.length === 0;\r\n    }\r\n\r\n    static maskToString(mask: string | RegExp | (string | RegExp)[]): string | string[] {\r\n\r\n        if (Utils.isString(mask)) {\r\n\r\n            return mask as string;\r\n\r\n        } else if (mask instanceof RegExp) {\r\n\r\n            return mask.toString();\r\n\r\n        } else if (Array.isArray(mask)) {\r\n\r\n            return mask.map(value => Utils.maskToString(value)) as string[];\r\n        }\r\n    }\r\n\r\n    static maskFromString(mask: string | string[]): string | RegExp | (string | RegExp)[] {\r\n\r\n        if (Utils.isString(mask)) {\r\n\r\n            let isRegExp = (mask as string).startsWith(\"/\") && (mask as string).endsWith(\"/\");\r\n\r\n            return isRegExp ? new RegExp((mask as string).slice(1, mask.length - 1)) : mask;\r\n\r\n        } else if (Array.isArray(mask)) {\r\n\r\n            return (mask as string[]).map(value => Utils.maskFromString(value)) as string[];\r\n        }\r\n    }\r\n\r\n    static merge(baseValue: any, defaultValue: any): any {\r\n\r\n        if (!Utils.isDefined(baseValue)) {\r\n            return defaultValue;\r\n        }\r\n\r\n        if (Utils.isObject(baseValue)) {\r\n\r\n            for (let property in baseValue) {\r\n\r\n                if (baseValue.hasOwnProperty(property) && Utils.isObject(baseValue[property])) {\r\n\r\n                    baseValue[property] = Utils.merge(baseValue[property], defaultValue ? defaultValue[property] : null);\r\n                }\r\n            }\r\n\r\n            return defaultValue ? Object.assign(defaultValue, baseValue) : baseValue;\r\n        }\r\n\r\n        return baseValue;\r\n    }\r\n\r\n    static parseJSONReviver(key: string, value: any): any {\r\n\r\n        let regexDateISO = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*))(?:Z|(\\+|-)([\\d|:]*))?$/;\r\n\r\n        return Utils.isString(value) && regexDateISO.test(value) ? new Date(value) : value;\r\n    }\r\n\r\n    static log(msg: string) {\r\n      console.log('%c' + msg, 'color: lightgray');\r\n    }\r\n    static warn(msg: string) {\r\n      console.log(msg);\r\n    }\r\n    static err(msg: string) {\r\n      console.log('%c' + msg, 'color: darkred');\r\n    }\r\n  \r\n    /**\r\n     * access object properties by dot notation or bracket notation\r\n     * \r\n     * @param obj \r\n     * @param prop \r\n     * @param newVal \r\n     */\r\n    static val(obj: any, prop: string, newVal?: any) {\r\n      if (!prop || obj.constructor !== Object) {\r\n        return undefined;\r\n      }\r\n      // TODO: convert bracket notation to dot notation. Specially, property name with dots or brackets.\r\n      if (prop.indexOf('[') >= 0) {\r\n        prop = prop.replace(/\\[/g, '.').replace(/[\\]\"]/g, '');\r\n      }\r\n      return prop.split('.').reduce((o, k, i, a) => {\r\n        if (o === undefined) {\r\n          this.warn('The property ' + a.join('.') + ' not found!');\r\n          return o;\r\n        }\r\n        if (i === a.length - 1 && newVal !== undefined) {\r\n          // reach last prop key (dot notation)\r\n          if (o[k] && o[k].constructor !== newVal.constructor) {\r\n            Utils.err('object type mismatched! (' + k + ')');\r\n          } else {\r\n            o[k] = newVal;\r\n          }\r\n        } else if (o[k] === undefined && newVal !== undefined) {\r\n          // rebuild the object structure\r\n          o[k] = {};\r\n        }\r\n        return o[k];\r\n      }, obj);\r\n    }\r\n}"]}