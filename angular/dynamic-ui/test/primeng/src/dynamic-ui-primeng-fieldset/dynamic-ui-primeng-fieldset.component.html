<div [formGroup]="group">
    <ng-template *ngIf="template?.align === 'START'" [ngTemplateOutlet]="template.templateRef" [ngTemplateOutletContext]="model"></ng-template>

    <div [ngClass]="model.cls.grid.container">

        <div *ngIf="model.label" [ngClass]="model.cls.grid.label">

            <label [attr.for]="model.key" [innerHTML]="model.label"></label>

        </div>


        <div [ngClass]="model.cls.grid.control">
            <fieldset [componentId]="componentId && model.key" [formGroupName]="model.key" [name]="model.name">

                <legend *ngIf="model.legend" [innerHTML]="model.legend"></legend>

                <dynamic-ui-primeng-control *ngFor="let controlModel of model.group" [group]="control" [hasErrorMessaging]="controlModel.hasErrorMessages" [model]="controlModel" [nestedTemplates]="templates"
                    (blur)="onBlur($event)" (change)="onValueChange($event)" (focus)="onFocus($event)">
                </dynamic-ui-primeng-control>
            </fieldset>
        </div>
        <ul *ngIf="hasErrorMessaging" [ngClass]="model.cls.grid.errors">

            <li class="ui-message ui-messages-error ui-corner-all" [class.ui-helper-hidden]="!showErrorMessages" [ngClass]="errors"><span *ngFor="let message of errorMessages">{{message}}</span></li>

        </ul>

    </div>


    <ng-template *ngIf="template?.align === 'END'" [ngTemplateOutlet]="template.templateRef" [ngTemplateOutletContext]="model"></ng-template>

    <ng-content></ng-content>

</div>