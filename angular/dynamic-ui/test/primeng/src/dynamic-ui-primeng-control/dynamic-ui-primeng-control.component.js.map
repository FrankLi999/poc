{"version":3,"sources":["primeng/src/dynamic-ui-primeng-control/dynamic-ui-primeng-control.component.ts"],"names":[],"mappings":"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","file":"dynamic-ui-primeng-control.component.js","sourcesContent":["import {\r\n  Component,\r\n  OnInit,\r\n  AfterViewInit,\r\n  OnDestroy,\r\n  Input,\r\n  Output,\r\n  ViewContainerRef,\r\n  ComponentFactoryResolver,\r\n  Type,\r\n  EventEmitter,\r\n  QueryList,\r\n  ContentChildren,\r\n  ComponentRef\r\n} from '@angular/core';\r\nimport {FormGroup} from \"@angular/forms\";\r\n\r\nimport { DynamicUIPrimengFormControlComponent } from '../dynamic-ui-primeng-form-control/dynamic-ui-primeng-form-control.component';\r\nimport {\r\n  DynamicUIFormValidationService,\r\n  ComponentModel,\r\n  BaseFormControlEvent,\r\n  ComponentTemplateDirective,\r\n  Utils\r\n} from \"@bpw-ui/base\";\r\nimport {\r\n  PrimengComponentTypes\r\n} from \"../dynamic-ui-primeng.model\";\r\n\r\n\r\n@Component({\r\nselector: 'dynamic-ui-primeng-control',\r\n  template: `{{htmlTemplate}}`\r\n})\r\nexport class DynamicUIPrimengControlComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n  @Input() componentId: boolean = true;\r\n  @Input() context: ComponentModel = null;\r\n  @Input() group: FormGroup;\r\n  @Input() hasErrorMessaging: boolean = false;\r\n  @Input() model: ComponentModel;\r\n  @Input() nestedTemplates: QueryList<ComponentTemplateDirective>;\r\n\r\n  @Output() blur: EventEmitter<BaseFormControlEvent> = new EventEmitter<BaseFormControlEvent>();\r\n  @Output() change: EventEmitter<BaseFormControlEvent> = new EventEmitter<BaseFormControlEvent>();\r\n  @Output() focus: EventEmitter<BaseFormControlEvent> = new EventEmitter<BaseFormControlEvent>();\r\n  @ContentChildren(ComponentTemplateDirective) contentTemplates: QueryList<ComponentTemplateDirective>;\r\n  htmlTemplate = '';\r\n  componentRef: ComponentRef<DynamicUIPrimengFormControlComponent>;\r\n  constructor(\r\n     private viewContainerRef: ViewContainerRef,\r\n      private cfr: ComponentFactoryResolver) {\r\n }\r\n\r\n  ngOnInit() {\r\n    const type = DynamicUIPrimengFormControlComponent.getFormControlType(this.model);\r\n    try {\r\n        const typ = PrimengComponentTypes[type];\r\n        this.viewContainerRef.clear();\r\n        const compFactory = this.cfr.resolveComponentFactory(typ);\r\n        this.componentRef = this.viewContainerRef.createComponent(compFactory);\r\n        const vc = this.componentRef.instance;\r\n        vc.componentId = this.componentId;\r\n        vc.context = this.context;\r\n        vc.group = this.group;\r\n        vc.hasErrorMessaging = this.hasErrorMessaging;\r\n        vc.model = this.model;\r\n        vc.nestedTemplates = this.nestedTemplates;\r\n        vc.blur = this.blur;\r\n        vc.change = this.change;\r\n        vc.focus = this.focus;\r\n        vc.setupControl();\r\n      } catch (ex) {\r\n        // if(ex === NoComponentFactoryError) {\r\n        this.htmlTemplate = ex.toString();\r\n        // }\r\n        Utils.err(ex);\r\n      }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    setTimeout(() => {\r\n      this.componentRef.instance.contentTemplates = this.contentTemplates;\r\n      this.componentRef.instance.setTemplates();\r\n    }, 0); // setTimeout to trigger change detection\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.componentRef.destroy();\r\n  }\r\n\r\n  onEvent() {\r\n\r\n  }\r\n}\r\n\r\n"]}