{"version":3,"sources":["material/src/dynamic-ui-material-dynamic/dynamic-ui-material-dynamic.component.ts"],"names":[],"mappings":"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","file":"dynamic-ui-material-dynamic.component.js","sourcesContent":["import {\r\n    Component,\r\n    ContentChildren,\r\n    EventEmitter,\r\n    Input,\r\n    Output,\r\n    QueryList,\r\n    ViewChildren,\r\n    ChangeDetectorRef,\r\n    ViewContainerRef,\r\n    ComponentFactoryResolver,\r\n    ComponentRef\r\n} from \"@angular/core\";\r\nimport { FormGroup } from \"@angular/forms\";\r\nimport {\r\n    BaseComponent,\r\n    BaseFormControlComponent,\r\n    BaseFormControlEvent,\r\n    ComponentTemplateDirective,\r\n    ComponentModel,\r\n    Utils\r\n} from \"@bpw-ui/base\";\r\n\r\nimport {\r\n    MaterialComponentTypes\r\n} from \"../dynamic-ui-material.model\";\r\nimport { DynamicUIMaterialFormControlComponent } from \"../dynamic-ui-material-form-control/dynamic-ui-material-form-control.component\";\r\n\r\n@Component({\r\n    selector: \"dynamic-ui-material-dynamic-component\",\r\n    template: `{{htmlTemplate}}`\r\n})\r\nexport class DynamicUIMaterialDynamicComponent  extends BaseComponent  {\r\n    @Input() group: FormGroup;\r\n    @Input() model: ComponentModel;\r\n    @Input() nestedTemplates: QueryList<ComponentTemplateDirective>;\r\n    @Output() blur: EventEmitter<BaseFormControlEvent> = new EventEmitter<BaseFormControlEvent>();\r\n    @Output() change: EventEmitter<BaseFormControlEvent> = new EventEmitter<BaseFormControlEvent>();\r\n    @Output() focus: EventEmitter<BaseFormControlEvent> = new EventEmitter<BaseFormControlEvent>();\r\n    @ContentChildren(ComponentTemplateDirective) contentTemplates: QueryList<ComponentTemplateDirective>;\r\n    @ViewChildren(DynamicUIMaterialFormControlComponent) components: QueryList<DynamicUIMaterialFormControlComponent>;\r\n    type = \"dynamic\";\r\n    private htmlTemplate = '';\r\n    componentRef: ComponentRef<BaseFormControlComponent>;\r\n    constructor(\r\n        private viewContainerRef: ViewContainerRef,\r\n        private cfr: ComponentFactoryResolver,\r\n        protected changeDetectorRef: ChangeDetectorRef) {\r\n      super(changeDetectorRef);\r\n    }\r\n\r\n    ngOnInit() {\r\n      super.ngOnInit();\r\n      const type = DynamicUIMaterialFormControlComponent.getFormControlType(this.model);\r\n      try {\r\n          const typ = MaterialComponentTypes[type];\r\n          this.viewContainerRef.clear();\r\n          const compFactory = this.cfr.resolveComponentFactory(typ);\r\n          this.componentRef = this.viewContainerRef.createComponent(compFactory);\r\n          const vc = this.componentRef.instance;\r\n          vc.componentId = this.componentId;\r\n          vc.context = this.context;\r\n          vc.group = this.group;\r\n          vc.model = this.model;\r\n          vc.nestedTemplates = this.nestedTemplates;\r\n          vc.blur = this.blur;\r\n          vc.change = this.change;\r\n          vc.focus = this.focus;\r\n          vc.setupControl();\r\n        } catch (ex) {\r\n          // if(ex === NoComponentFactoryError) {\r\n          this.htmlTemplate = ex.toString();\r\n          // }\r\n          Utils.err(ex);\r\n        }\r\n    }\r\n  }\r\n"]}